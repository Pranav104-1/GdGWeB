<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GDG CSMU Web Dev Quiz</title>

    <style>
      /* =========================
   DARK MODE BASE
========================= */
      body {
        margin: 0;
        background: #0f1117;
        color: #e6e6e6;
        font-family: system-ui, sans-serif;
      }

      /* ==================== CUSTOM CURSOR ==================== */
      * {
        cursor:
          url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="5" fill="%2300f3ff" opacity="1"/><circle cx="16" cy="16" r="8" fill="none" stroke="%2300f3ff" stroke-width="1.5" opacity="0.6"/></svg>')
            16 16,
          auto;
      }

      a,
      button,
      .btn,
      .pointer {
        cursor:
          url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="6" fill="%2300f3ff" opacity="1"/><circle cx="16" cy="16" r="9" fill="none" stroke="%2300f3ff" stroke-width="2" opacity="0.8"/><path d="M16 8 L20 16 L16 20 L12 16 Z" fill="%23ff10f0" opacity="0.5"/></svg>')
            16 16,
          pointer;
      }

      /* NAVBAR */
      nav {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        padding: 15px 20px;
        border-bottom: 2px solid rgba(0, 243, 255, 0.3);
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      }

      .nav-left {
        display: flex;
        align-items: center;
        gap: 30px;
      }

      .nav-logo {
        font-size: 1.4rem;
        font-weight: 800;
        background: linear-gradient(135deg, #00f3ff, #ff10f0);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-decoration: none;
        cursor: pointer;
      }

      .nav-links {
        display: flex;
        gap: 25px;
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .nav-links a {
        color: #e6e6e6;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-links a:hover {
        color: #00f3ff;
      }

      .nav-links a.active {
        color: #00f3ff;
      }

      .nav-right {
        display: flex;
        gap: 15px;
        align-items: center;
      }

      .dark-mode-btn {
        background: rgba(0, 243, 255, 0.1);
        border: 1px solid rgba(0, 243, 255, 0.4);
        color: #00f3ff;
        padding: 8px 12px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s;
      }

      .dark-mode-btn:hover {
        background: rgba(0, 243, 255, 0.2);
        transform: translateY(-2px);
      }

      /* TABLET & MEDIUM SCREENS */
      @media (max-width: 768px) {
        nav {
          flex-direction: column;
          padding: 10px 15px;
        }
        .nav-links {
          gap: 15px;
          font-size: 0.9rem;
        }

        .quiz-container {
          max-width: 100%;
          padding: 15px;
        }

        .quiz-header {
          margin-bottom: 20px;
        }

        .quiz-back-btn {
          position: static;
          margin-bottom: 15px;
          width: 100%;
          justify-content: center;
        }

        .quiz-header h1 {
          font-size: 1.8rem;
        }

        .difficulty-card {
          padding: 20px;
          min-height: auto;
        }

        .btn {
          padding: 10px 12px;
          font-size: 0.9rem;
          min-height: 44px;
        }

        .quiz-results {
          padding: 20px;
        }

        .score {
          font-size: 3rem;
        }

        .score-percentage {
          font-size: 1.5rem;
        }
      }

      /* SMALL PHONES */
      @media (max-width: 600px) {
        body {
          font-size: 15px;
        }

        nav {
          padding: 10px 12px;
          gap: 10px;
        }

        .nav-left {
          gap: 15px;
          width: 100%;
        }

        .nav-logo {
          font-size: 1.2rem;
        }

        .nav-links {
          gap: 10px;
          font-size: 0.85rem;
        }

        .nav-right {
          gap: 10px;
        }

        .dark-mode-btn {
          padding: 6px 10px;
          font-size: 0.9rem;
        }

        .quiz-container {
          max-width: 100%;
          padding: 12px;
          margin: 20px auto;
        }

        .quiz-header {
          margin-bottom: 15px;
        }

        .quiz-header h1 {
          font-size: 1.5rem;
          margin: 15px 0 8px 0;
        }

        .quiz-header p {
          font-size: 0.95rem;
        }

        .quiz-back-btn {
          width: 100%;
          padding: 8px 12px;
          font-size: 0.9rem;
          margin-bottom: 12px;
        }

        .quiz-selection {
          grid-template-columns: 1fr;
          gap: 15px;
        }

        .difficulty-card {
          padding: 15px;
          border-radius: 10px;
        }

        .difficulty-card h3 {
          font-size: 1.3rem;
          margin: 8px 0;
        }

        .difficulty-card .emoji {
          font-size: 2.5rem;
        }

        .difficulty-card .questions-count {
          font-size: 0.85rem;
        }

        .quiz-question {
          padding: 15px;
          border-radius: 10px;
        }

        .question-number {
          font-size: 0.85rem;
        }

        .question-text {
          font-size: 1.1rem;
          margin: 12px 0;
        }

        .options {
          gap: 10px;
        }

        .option {
          padding: 12px;
          font-size: 0.95rem;
          border-radius: 6px;
        }

        .option input {
          margin-right: 8px;
        }

        .quiz-controls {
          flex-direction: column;
          gap: 10px;
          margin-top: 15px;
        }

        .btn {
          padding: 10px;
          font-size: 0.9rem;
          min-height: 44px;
          flex: 1;
        }

        .quiz-progress {
          height: 6px;
          margin: 15px 0;
        }

        .quiz-results {
          padding: 15px;
          text-align: center;
        }

        .quiz-results h2 {
          font-size: 1.5rem;
          margin: 10px 0;
        }

        .score {
          font-size: 2.5rem;
          margin: 10px 0;
        }

        .score-percentage {
          font-size: 1.3rem;
          margin: 5px 0;
        }

        .score-message {
          font-size: 0.95rem;
          margin: 10px 0;
        }

        .score-breakdown {
          margin: 15px 0;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .breakdown-item {
          font-size: 0.9rem;
          padding: 8px;
          background: rgba(138, 180, 255, 0.05);
          border-radius: 6px;
        }

        .btn-home {
          padding: 8px 16px;
          font-size: 0.9rem;
        }
      }

      /* EXTRA SMALL PHONES */
      @media (max-width: 480px) {
        body {
          font-size: 14px;
        }

        nav {
          padding: 8px 10px;
        }

        .nav-left {
          gap: 12px;
        }

        .nav-logo {
          font-size: 1rem;
        }

        .nav-links {
          gap: 8px;
          font-size: 0.8rem;
        }

        .quiz-container {
          padding: 10px;
          margin: 15px auto;
        }

        .quiz-header h1 {
          font-size: 1.3rem;
          margin: 12px 0 6px 0;
        }

        .quiz-header p {
          font-size: 0.9rem;
          margin: 0;
        }

        .quiz-back-btn {
          padding: 6px 10px;
          font-size: 0.85rem;
          margin-bottom: 10px;
        }

        .difficulty-card {
          padding: 12px;
        }

        .difficulty-card h3 {
          font-size: 1.1rem;
          margin: 6px 0;
        }

        .difficulty-card .emoji {
          font-size: 2rem;
        }

        .difficulty-card p {
          font-size: 0.8rem;
          margin: 6px 0 0 0;
        }

        .quiz-question {
          padding: 12px;
        }

        .question-number {
          font-size: 0.8rem;
        }

        .question-text {
          font-size: 1rem;
          margin: 10px 0;
          font-weight: 600;
        }

        .option {
          padding: 10px;
          font-size: 0.9rem;
        }

        .option input {
          margin-right: 6px;
        }

        .btn {
          padding: 8px;
          font-size: 0.85rem;
        }

        .quiz-progress {
          height: 5px;
          margin: 12px 0;
        }

        .quiz-results {
          padding: 12px;
        }

        .quiz-results h2 {
          font-size: 1.3rem;
          margin: 8px 0;
        }

        .score {
          font-size: 2rem;
          margin: 8px 0;
        }

        .score-percentage {
          font-size: 1.1rem;
          margin: 3px 0;
        }

        .score-message {
          font-size: 0.9rem;
          margin: 8px 0;
        }

        .score-breakdown {
          margin: 10px 0;
          gap: 6px;
        }

        .breakdown-item {
          font-size: 0.85rem;
          padding: 6px;
        }
      }

      .quiz-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 20px;
      }

      .quiz-selection {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .difficulty-card {
        background: linear-gradient(135deg, #1a1d26 0%, #20232e 100%);
        padding: 30px;
        border-radius: 12px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid rgba(138, 180, 255, 0.3);
      }

      .difficulty-card:hover {
        transform: translateY(-8px);
        border-color: #00f3ff;
        box-shadow: 0 15px 40px rgba(0, 243, 255, 0.3);
      }

      .difficulty-card h3 {
        margin: 10px 0;
        font-size: 1.5rem;
      }

      .difficulty-card .emoji {
        font-size: 3rem;
      }

      .difficulty-card .questions-count {
        color: #888;
        font-size: 0.9rem;
      }

      .quiz-header {
        text-align: center;
        margin-bottom: 30px;
        position: relative;
      }

      .quiz-back-btn {
        position: absolute;
        left: 0;
        top: 0;
        text-decoration: none;
        color: #8ab4ff;
        font-weight: 600;
        padding: 8px 16px;
        border-radius: 6px;
        background: rgba(138, 180, 255, 0.1);
        border: 1px solid rgba(138, 180, 255, 0.3);
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .quiz-back-btn:hover {
        background: rgba(138, 180, 255, 0.2);
        border-color: #8ab4ff;
        transform: translateX(-3px);
      }

      .quiz-header h1 {
        font-size: 2.4rem;
        background: linear-gradient(135deg, #8ab4ff, #b388ff);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        margin: 20px 0 10px 0;
      }

      .quiz-header p {
        color: #aaa;
        font-size: 1.1rem;
      }

      /* progress */
      .quiz-progress {
        width: 100%;
        height: 8px;
        background: #222;
        border-radius: 5px;
        margin: 25px 0;
        overflow: hidden;
      }

      .quiz-progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #8ab4ff, #b388ff);
        transition: 0.3s;
      }

      /* question card */
      .quiz-question {
        background: #1a1d26;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
      }

      .question-number {
        color: #8ab4ff;
        font-size: 0.9rem;
      }

      .question-text {
        font-size: 1.3rem;
        margin: 15px 0;
        font-weight: 600;
      }

      .options {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .option {
        padding: 15px;
        border-radius: 8px;
        border: 2px solid #2e3342;
        background: #20232e;
        cursor: pointer;
        transition: 0.25s;
        position: relative;
        overflow: hidden;
      }

      .option:hover {
        background: #2a2f40;
        border-color: #8ab4ff;
      }

      .option.selected {
        background: #283048;
        border-color: #8ab4ff;
      }

      .option.correct {
        background: rgba(34, 197, 94, 0.2);
        border-color: #22c55e;
        animation: correctPulse 0.5s ease;
      }

      .option.incorrect {
        background: rgba(239, 68, 68, 0.2);
        border-color: #ef4444;
        animation: incorrectShake 0.5s ease;
      }

      @keyframes correctPulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.02);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes incorrectShake {
        0%,
        100% {
          transform: translateX(0);
        }
        20% {
          transform: translateX(-5px);
        }
        40% {
          transform: translateX(5px);
        }
        60% {
          transform: translateX(-5px);
        }
        80% {
          transform: translateX(5px);
        }
      }

      .option input {
        margin-right: 10px;
      }

      /* buttons */
      .quiz-controls {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .btn {
        flex: 1;
        padding: 12px;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        min-height: 44px;
      }

      .btn:active {
        transform: translateY(2px);
      }

      .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .btn-prev {
        background: #2a2f40;
        color: white;
      }

      .btn-prev:hover:not(:disabled) {
        background: #3a4160;
        transform: translateY(-2px);
      }

      .btn-next {
        background: linear-gradient(135deg, #8ab4ff, #b388ff);
        color: white;
      }

      .btn-next:hover:not(:disabled) {
        background: linear-gradient(135deg, #9bc4ff, #c498ff);
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(138, 180, 255, 0.4);
      }

      /* HOME BUTTON */
      .btn-home {
        display: inline-block;
        margin-top: 15px;
        padding: 10px 18px;
        text-decoration: none;
        background: #2a2f40;
        color: white;
        border-radius: 8px;
        font-weight: bold;
        transition: 0.25s;
      }

      .btn-home:hover {
        background: #3a4160;
        transform: translateY(-2px);
      }
    </style>
  </head>

  <body>
    <!-- NAVBAR -->
    <nav>
      <div class="nav-left">
        <a href="index.html" class="nav-logo">üöÄ GDG</a>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="playground.html">Playground</a></li>
          <li><a href="creator.html">üë®‚Äçüíª Creator</a></li>
          <li><a href="quiz.html" class="active">Quiz</a></li>
        </ul>
      </div>
      <div class="nav-right">
        <button class="dark-mode-btn" id="darkModeBtn">üåô</button>
      </div>
    </nav>

    <div class="quiz-container">
      <div class="quiz-header">
        <a href="index.html" class="quiz-back-btn">‚Üê Back to Home</a>
        <h1>üß† Web Development Quiz</h1>
        <p>Test your knowledge and have fun!</p>
      </div>

      <div id="quizContent"></div>
    </div>

    <canvas id="snakeCanvas"></canvas>

    <script>
      /* =========================
   QUIZ DATA - ORGANIZED BY DIFFICULTY
========================= */

      const quizData = {
        easy: [
          {
            question: "What does HTML stand for?",
            options: [
              "Hyper Text Markup Language",
              "High Tech Modern Language",
              "Home Tool Markup Language",
              "Hyperlinks and Text Markup Language",
            ],
            correct: 0,
          },
          {
            question: "Which CSS property changes text color?",
            options: ["text-color", "color", "font-color", "text-style"],
            correct: 1,
          },
          {
            question: "Correct JS variable declaration?",
            options: ["variable x=5", "var x=5", "declare x=5", "x := 5"],
            correct: 1,
          },
          {
            question: "Largest HTML heading?",
            options: ["<h6>", "<header>", "<h1>", "<head>"],
            correct: 2,
          },
          {
            question: "CSS stands for?",
            options: [
              "Computer Style Sheets",
              "Cascading Style Sheets",
              "Creative Style Sheets",
              "Colorful Style Sheets",
            ],
            correct: 1,
          },
          {
            question: "Which tag is used for line break in HTML?",
            options: ["<br />", "<break>", "<b>", "<line>"],
            correct: 0,
          },
          {
            question: "What is the correct syntax for a comment in JavaScript?",
            options: [
              "<!-- comment -->",
              "// comment",
              "# comment",
              "-- comment",
            ],
            correct: 1,
          },
          {
            question: "Which property is used to change background color?",
            options: ["bg-color", "background-color", "back-color", "color"],
            correct: 1,
          },
          {
            question: "How do you create a function in JavaScript?",
            options: [
              "func myFunc() {}",
              "function myFunc() {}",
              "def myFunc() {}",
              "create myFunc() {}",
            ],
            correct: 1,
          },
          {
            question: "What is the correct way to link CSS file in HTML?",
            options: [
              "<style href='styles.css'>",
              "<link rel='stylesheet' href='styles.css'>",
              "<css src='styles.css'>",
              "<stylesheet href='styles.css'>",
            ],
            correct: 1,
          },
        ],

        medium: [
          {
            question: "What is the purpose of the meta viewport tag?",
            options: [
              "Defines page background",
              "Controls layout on different devices",
              "Links stylesheets",
              "Loads external scripts",
            ],
            correct: 1,
          },
          {
            question:
              "Which JavaScript method is used to add elements to array?",
            options: ["add()", "push()", "insert()", "append()"],
            correct: 1,
          },
          {
            question: "What does the 'box-model' include?",
            options: [
              "Border & Padding",
              "Margin & Padding",
              "Margin, Border, Padding & Content",
              "Width & Height only",
            ],
            correct: 2,
          },
          {
            question: "How many CSS selectors exist in CSS?",
            options: ["2", "3", "4", "5"],
            correct: 1,
          },
          {
            question:
              "What is the difference between 'var' and 'let' in JavaScript?",
            options: [
              "No difference",
              "let is block-scoped",
              "var is newer",
              "Both are the same",
            ],
            correct: 1,
          },
          {
            question: "Which HTTP method is used to request data?",
            options: ["POST", "GET", "DELETE", "PATCH"],
            correct: 1,
          },
          {
            question: "What does REST API stand for?",
            options: [
              "Representational State Transfer API",
              "Remote Endpoint Service Transfer API",
              "Response State Transfer API",
              "Request Endpoint Service API",
            ],
            correct: 0,
          },
          {
            question: "Which property centers text horizontally in CSS?",
            options: [
              "text-center",
              "text-align: center",
              "letter-spacing",
              "center-text",
            ],
            correct: 1,
          },
          {
            question: "What is the correct way to write an async function?",
            options: [
              "async function test() {}",
              "function async test() {}",
              "asyncf test() {}",
              "function test() async {}",
            ],
            correct: 0,
          },
          {
            question: "What does JSON stand for?",
            options: [
              "Java Script Open Notation",
              "JavaScript Object Notation",
              "Java Standard Object Notation",
              "JavaScript Organization Network",
            ],
            correct: 1,
          },
        ],

        hard: [
          {
            question: "What is event delegation in JavaScript?",
            options: [
              "Adding events to all elements",
              "Attaching events to parent elements",
              "Removing event listeners",
              "Cloning elements",
            ],
            correct: 1,
          },
          {
            question: "Which of the following is NOT a CSS unit?",
            options: ["rem", "em", "px", "xp"],
            correct: 3,
          },
          {
            question: "What is the output of typeof null in JavaScript?",
            options: ["'null'", "'object'", "'undefined'", "'none'"],
            correct: 1,
          },
          {
            question: "How do closures work in JavaScript?",
            options: [
              "Functions with no parameters",
              "Functions that remember variables from their scope",
              "Functions that close upon execution",
              "Functions that stop event propagation",
            ],
            correct: 1,
          },
          {
            question: "What is the correct way to handle promises?",
            options: [
              ".then().catch()",
              ".do().then()",
              ".promise().handle()",
              ".execute().wait()",
            ],
            correct: 0,
          },
          {
            question: "Which CSS property has specificity value of 100?",
            options: [
              "Element selector",
              "Class selector",
              "ID selector",
              "Universal selector",
            ],
            correct: 2,
          },
          {
            question: "What is the purpose of 'use strict' in JavaScript?",
            options: [
              "Makes code run faster",
              "Enforces strict syntax rules",
              "Handles errors differently",
              "Optimizes memory usage",
            ],
            correct: 1,
          },
          {
            question: "What does the spread operator (...) do in JavaScript?",
            options: [
              "Creates comments",
              "Expands iterables into elements",
              "Multiplies numbers",
              "Concatenates strings",
            ],
            correct: 1,
          },
          {
            question: "How does the event loop work in JavaScript?",
            options: [
              "Processes synchronous code, then async",
              "Random order execution",
              "Only single-threaded execution",
              "Executes all code simultaneously",
            ],
            correct: 0,
          },
          {
            question: "What is the purpose of CORS in web development?",
            options: [
              "Cross-Origin Resource Sharing for security",
              "Code Organization Resource System",
              "Central Order Request System",
              "Cache Optimization Resource Sharing",
            ],
            correct: 0,
          },
        ],
      };

      let currentDifficulty = null;
      let currentQuestion = 0;
      let answers = [];
      let quizQuestions = [];
      let score = 0;
      let answered = false;

      // ==================== INITIALIZATION ====================

      function showDifficultySelection() {
        const html = `
        <div class="quiz-selection">
            <div class="difficulty-card" onclick="startQuiz('easy')">
                <div class="emoji">üòä</div>
                <h3>Easy</h3>
                <div class="questions-count">${quizData.easy.length} Questions</div>
                <p style="color: #666; margin-top: 10px;">Perfect for beginners</p>
            </div>
            <div class="difficulty-card" onclick="startQuiz('medium')">
                <div class="emoji">ü§î</div>
                <h3>Medium</h3>
                <div class="questions-count">${quizData.medium.length} Questions</div>
                <p style="color: #666; margin-top: 10px;">Intermediate level</p>
            </div>
            <div class="difficulty-card" onclick="startQuiz('hard')">
                <div class="emoji">üî•</div>
                <h3>Hard</h3>
                <div class="questions-count">${quizData.hard.length} Questions</div>
                <p style="color: #666; margin-top: 10px;">Advanced challenges</p>
            </div>
        </div>
    `;
        document.getElementById("quizContent").innerHTML = html;
      }

      function startQuiz(difficulty) {
        currentDifficulty = difficulty;
        quizQuestions = quizData[difficulty];
        currentQuestion = 0;
        answers = new Array(quizQuestions.length).fill(null);
        score = 0;
        answered = false;
        showQuestion();
      }

      function showQuestion() {
        if (currentQuestion >= quizQuestions.length) {
          finishQuiz();
          return;
        }

        answered = false;
        const q = quizQuestions[currentQuestion];
        const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;

        let html = `
        <div style="margin-bottom: 20px;">
            <div class="quiz-progress">
                <div class="quiz-progress-bar" style="width: ${progress}%"></div>
            </div>
            <p style="color: #888; font-size: 0.9rem;">Question ${currentQuestion + 1} of ${quizQuestions.length}</p>
        </div>

        <div class="quiz-question">
            <div class="question-number">Question ${currentQuestion + 1}/${quizQuestions.length}</div>
            <div class="question-text">${q.question}</div>
            <div class="options" id="optionsContainer">
    `;

        q.options.forEach((opt, i) => {
          html += `
            <label class="option" data-index="${i}">
                <input type="radio" name="ans" value="${i}" ${answers[currentQuestion] === i ? "checked" : ""}>
                ${opt}
            </label>
        `;
        });

        html += `</div></div>

    <div class="quiz-controls">
        <button class="btn btn-prev" onclick="prevQuestion()" ${currentQuestion === 0 ? "disabled" : ""}>‚Üê Previous</button>
        <button class="btn btn-next" onclick="nextQuestion()" id="nextBtn">
            ${currentQuestion === quizQuestions.length - 1 ? "Finish ‚Üí" : "Next ‚Üí"}
        </button>
    </div>
    `;

        document.getElementById("quizContent").innerHTML = html;

        // Setup event listeners for options
        document.querySelectorAll('input[name="ans"]').forEach((el) => {
          el.addEventListener("change", function (e) {
            if (answered) return;
            selectAnswer(parseInt(e.target.value));
          });
        });
      }

      function selectAnswer(index) {
        answered = true;
        answers[currentQuestion] = index;
        const q = quizQuestions[currentQuestion];
        const options = document.querySelectorAll(".option");

        options.forEach((opt, i) => {
          if (i === q.correct) {
            opt.classList.add("correct");
          } else if (i === index && index !== q.correct) {
            opt.classList.add("incorrect");
          }
          opt.style.pointerEvents = "none";
        });
      }

      function nextQuestion() {
        if (answered || answers[currentQuestion] !== null) {
          if (currentQuestion < quizQuestions.length - 1) {
            currentQuestion++;
            showQuestion();
          } else {
            finishQuiz();
          }
        }
      }

      function prevQuestion() {
        if (currentQuestion > 0) {
          currentQuestion--;
          answered = true;
          showQuestion();
        }
      }

      function finishQuiz() {
        score = 0;
        answers.forEach((a, i) => {
          if (a === quizQuestions[i].correct) score++;
        });

        const percentage = Math.round((score / quizQuestions.length) * 100);
        let message = "";
        let emoji = "üéâ";

        // Personalized messages based on difficulty and score
        if (percentage === 100) {
          emoji = "üèÜ";
          if (currentDifficulty === "easy")
            message = "Perfect! You've mastered the basics! üåü";
          else if (currentDifficulty === "medium")
            message = "Flawless! You're an intermediate developer! üöÄ";
          else message = "Incredible! You're a web development expert! üî•";
        } else if (percentage >= 80) {
          emoji = "üåü";
          message = "Excellent work! You really know your stuff! üí™";
        } else if (percentage >= 70) {
          emoji = "üëç";
          message = "Great job! Keep building on this knowledge! üìö";
        } else if (percentage >= 60) {
          emoji = "üí™";
          message = "Good effort! Review and try again! üéØ";
        } else if (percentage >= 40) {
          emoji = "ü§ì";
          message = "Not bad! Study and retry for better results! üìñ";
        } else {
          emoji = "üìö";
          message = "Keep learning! Every attempt makes you stronger! üí°";
        }

        const difficultyName =
          currentDifficulty.charAt(0).toUpperCase() +
          currentDifficulty.slice(1);

        let html = `
        <div class="quiz-results">
            <h2>${emoji} Quiz Results</h2>
            <div class="score">${score}/${quizQuestions.length}</div>
            <div class="score-percentage">${percentage}%</div>
            <div class="score-message">${message}</div>
            
            <div class="score-breakdown">
                <div class="breakdown-item">
                    <span>üìä Difficulty Level:</span>
                    <strong>${difficultyName}</strong>
                </div>
                <div class="breakdown-item">
                    <span>‚úÖ Correct Answers:</span>
                    <strong style="color: #22c55e;">${score}</strong>
                </div>
                <div class="breakdown-item">
                    <span>‚ùå Wrong Answers:</span>
                    <strong style="color: #ef4444;">${quizQuestions.length - score}</strong>
                </div>
                <div class="breakdown-item">
                    <span>üìà Accuracy:</span>
                    <strong style="color: #8ab4ff;">${percentage}%</strong>
                </div>
            </div>

            <div class="quiz-controls">
                <button class="btn btn-next" onclick="showDifficultySelection()">‚Üª Try Another Quiz</button>
                <a href="index.html" class="btn btn-prev" style="text-decoration: none; display: flex; align-items: center; justify-content: center;">‚Üê Back to Home</a>
            </div>
        </div>
    `;

        document.getElementById("quizContent").innerHTML = html;
        document.querySelector(".quiz-progress").style.display = "none";

        if (percentage === 100) {
          createConfetti();
        }
      }

      // ==================== CONFETTI EFFECT ====================

      function createConfetti() {
        for (let i = 0; i < 50; i++) {
          const confetti = document.createElement("div");
          confetti.className = "confetti";
          confetti.style.left = Math.random() * 100 + "vw";
          confetti.style.backgroundColor = [
            "#8ab4ff",
            "#b388ff",
            "#00f3ff",
            "#ff10f0",
          ][Math.floor(Math.random() * 4)];
          confetti.style.animation = `fall ${2 + Math.random() * 1}s ease-in forwards`;
          document.body.appendChild(confetti);

          setTimeout(() => confetti.remove(), 3000);
        }
      }

      const style = document.createElement("style");
      style.textContent = `
    @keyframes fall {
        to {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
        }
    }
`;
      document.head.appendChild(style);

      // ==================== SNAKE ANIMATION ====================

      // ==================== SNAKE ANIMATION ====================

      const canvas = document.getElementById("snakeCanvas");
      const ctx = canvas.getContext("2d");

      function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      resize();
      window.onresize = resize;

      let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };

      window.onmousemove = (e) => {
        mouse.x = e.clientX;
        mouse.y = e.clientY;
      };

      const snake = [];
      const length = 20;

      for (let i = 0; i < length; i++) snake.push({ x: mouse.x, y: mouse.y });

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        snake[0].x += (mouse.x - snake[0].x) * 0.25;
        snake[0].y += (mouse.y - snake[0].y) * 0.25;

        for (let i = 1; i < snake.length; i++) {
          snake[i].x += (snake[i - 1].x - snake[i].x) * 0.35;
          snake[i].y += (snake[i - 1].y - snake[i].y) * 0.35;
        }

        snake.forEach((s, i) => {
          const size = 10 - i * 0.35;
          const g = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, size);
          g.addColorStop(0, `hsl(${Date.now() / 20 + i * 10}, 100%, 60%)`);
          g.addColorStop(1, "transparent");

          ctx.beginPath();
          ctx.arc(s.x, s.y, size, 0, Math.PI * 2);
          ctx.fillStyle = g;
          ctx.fill();
        });

        requestAnimationFrame(animate);
      }

      animate();

      // ==================== INITIALIZATION ====================
      document.addEventListener("DOMContentLoaded", function () {
        showDifficultySelection();

        // Dark mode toggle
        const darkModeBtn = document.getElementById("darkModeBtn");
        if (darkModeBtn) {
          darkModeBtn.addEventListener("click", function () {
            document.body.classList.toggle("dark-mode");
            localStorage.setItem(
              "darkMode",
              document.body.classList.contains("dark-mode"),
            );
          });
        }
      });
    </script>
  </body>
</html>
